<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Prenota Relazione Tecnica</title>
  <!-- EmailJS SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <!-- Custom styles -->
  <link rel="stylesheet" href="static/css/styles.css">
</head>
<body>
  <div class="wrapper">
    <div class="header">
      <div class="promo-ribbon">PROMO</div>
      <h2>Prenota ora la tua relazione tecnica di stima</h2>
      <p>Completa il form in pochi semplici passi e ricevi subito la tua offerta personalizzata</p>
    </div>
    <div class="container">
      <form id="prenotazioneForm">
        <div id="formFields">
          <label>Nome <input type="text" name="nome" required></label>
          <label>Cognome <input type="text" name="cognome" required></label>
          <label>Codice Fiscale <input type="text" name="codiceFiscale" required></label>
          <label>Email <input type="email" name="email" required></label>
          <label>Ubicazione immobile
            <select name="ubicazione" required>
              <option value="">Seleziona un Comune</option>
              <option value="Acerra">Acerra</option>
              <option value="Afragola">Afragola</option>
              <option value="Agerola">Agerola</option>
              <option value="Anacapri">Anacapri</option>
              <option value="Arzano">Arzano</option>
              <option value="Bacoli">Bacoli</option>
              <option value="Barano d'Ischia">Barano d'Ischia</option>
              <option value="Boscoreale">Boscoreale</option>
              <option value="Boscotrecase">Boscotrecase</option>
              <option value="Brusciano">Brusciano</option>
              <option value="Caivano">Caivano</option>
              <option value="Calvizzano">Calvizzano</option>
              <option value="Camposano">Camposano</option>
              <option value="Capri">Capri</option>
              <option value="Carbonara di Nola">Carbonara di Nola</option>
              <option value="Cardito">Cardito</option>
              <option value="Casalnuovo di Napoli">Casalnuovo di Napoli</option>
              <option value="Casamarciano">Casamarciano</option>
              <option value="Casamicciola Terme">Casamicciola Terme</option>
              <option value="Casandrino">Casandrino</option>
              <option value="Casavatore">Casavatore</option>
              <option value="Casola di Napoli">Casola di Napoli</option>
              <option value="Casoria">Casoria</option>
              <option value="Castellammare di Stabia">Castellammare di Stabia</option>
              <option value="Castello di Cisterna">Castello di Cisterna</option>
              <option value="Cercola">Cercola</option>
              <option value="Cicciano">Cicciano</option>
              <option value="Cimitile">Cimitile</option>
              <option value="Comiziano">Comiziano</option>
              <option value="Crispano">Crispano</option>
              <option value="Ercolano">Ercolano</option>
              <option value="Forio">Forio</option>
              <option value="Frattamaggiore">Frattamaggiore</option>
              <option value="Frattaminore">Frattaminore</option>
              <option value="Giugliano in Campania">Giugliano in Campania</option>
              <option value="Gragnano">Gragnano</option>
              <option value="Grumo Nevano">Grumo Nevano</option>
              <option value="Ischia">Ischia</option>
              <option value="Lacco Ameno">Lacco Ameno</option>
              <option value="Lettere">Lettere</option>
              <option value="Liveri">Liveri</option>
              <option value="Marano di Napoli">Marano di Napoli</option>
              <option value="Mariglianella">Mariglianella</option>
              <option value="Marigliano">Marigliano</option>
              <option value="Massa di Somma">Massa di Somma</option>
              <option value="Massa Lubrense">Massa Lubrense</option>
              <option value="Melito di Napoli">Melito di Napoli</option>
              <option value="Meta">Meta</option>
              <option value="Monte di Procida">Monte di Procida</option>
              <option value="Mugnano di Napoli">Mugnano di Napoli</option>
              <option value="Napoli">Napoli</option>
              <option value="Nola">Nola</option>
              <option value="Ottaviano">Ottaviano</option>
              <option value="Palma Campania">Palma Campania</option>
              <option value="Piano di Sorrento">Piano di Sorrento</option>
              <option value="Pimonte">Pimonte</option>
              <option value="Poggiomarino">Poggiomarino</option>
              <option value="Pollena Trocchia">Pollena Trocchia</option>
              <option value="Pomigliano d'Arco">Pomigliano d'Arco</option>
              <option value="Pompei">Pompei</option>
              <option value="Portici">Portici</option>
              <option value="Pozzuoli">Pozzuoli</option>
              <option value="Procida">Procida</option>
              <option value="Qualiano">Qualiano</option>
              <option value="Quarto">Quarto</option>
              <option value="Roccarainola">Roccarainola</option>
              <option value="San Gennaro Vesuviano">San Gennaro Vesuviano</option>
              <option value="San Giorgio a Cremano">San Giorgio a Cremano</option>
              <option value="San Giuseppe Vesuviano">San Giuseppe Vesuviano</option>
              <option value="San Paolo Bel Sito">San Paolo Bel Sito</option>
              <option value="San Sebastiano al Vesuvio">San Sebastiano al Vesuvio</option>
              <option value="San Vitaliano">San Vitaliano</option>
              <option value="Sant'Agnello">Sant'Agnello</option>
              <option value="Sant'Anastasia">Sant'Anastasia</option>
              <option value="Sant'Antonio Abate">Sant'Antonio Abate</option>
              <option value="Santa Maria la Carità">Santa Maria la Carità</option>
              <option value="Saviano">Saviano</option>
              <option value="Scisciano">Scisciano</option>
              <option value="Serrara Fontana">Serrara Fontana</option>
              <option value="Sorrento">Sorrento</option>
              <option value="Striano">Striano</option>
              <option value="Terzigno">Terzigno</option>
              <option value="Torre Annunziata">Torre Annunziata</option>
              <option value="Torre del Greco">Torre del Greco</option>
              <option value="Trecase">Trecase</option>
              <option value="Tufino">Tufino</option>
              <option value="Vico Equense">Vico Equense</option>
              <option value="Villaricca">Villaricca</option>
              <option value="Visciano">Visciano</option>
              <option value="Volla">Volla</option>
            </select>
          </label>
          <label>Tipo Immobile
            <select name="tipoImmobile" required>
              <option value="">Seleziona tipo immobile</option>
              <option value="Residenziale">Residenziale</option>
              <option value="Commerciale">Commerciale</option>
            </select>
          </label>
          <label>Grandezza Immobile
            <select name="grandezzaImmobile" required>
              <option value="">Seleziona grandezza</option>
              <option value="fino a 140,00 mq">fino a 140,00 mq</option>
              <option value="oltre 140,00 mq">oltre 140,00 mq</option>
            </select>
          </label>
          <div class="checkbox-label">
            <input type="checkbox" name="haVisura" id="haVisura">
            <label for="haVisura">Ho la visura e la planimetria catastale</label>
          </div>
          <div class="checkbox-label">
            <input type="checkbox" name="proprietario" id="proprietario">
            <label for="proprietario">Sono il proprietario e fornirò in seguito il titolo di proprietà</label>
          </div>
          <div class="checkbox-label">
            <input type="checkbox" name="privacy" id="privacy" required>
            <label for="privacy">Autorizzo il trattamento dei miei dati personali ai sensi del Regolamento UE 2016/679 (GDPR)</label>
          </div>
        </div>
        
        <!-- Success message (hidden by default) -->
        <div id="successMessage" class="success-message" style="display: none;">
          <div class="success-icon">✓</div>
          <h3>Richiesta inviata con successo!</h3>
          <p>Grazie per aver compilato il form. Riceverai a breve una email di conferma.</p>
        </div>
        
        <!-- Error message (hidden by default) -->
        <div id="errorMessage" class="error-message" style="display: none;">
          <div class="error-icon">!</div>
          <h3>Si è verificato un errore</h3>
          <p>Non è stato possibile inviare la tua richiesta. Si prega di riprovare più tardi.</p>
          <button type="button" class="retry-button" onclick="hideErrorMessage()">Riprova</button>
        </div>
        
        <!-- Loading spinner (hidden by default) -->
        <div id="loadingSpinner" class="loading-spinner" style="display: none;">
          <div class="spinner"></div>
          <p>Invio in corso...</p>
        </div>
        
        <button type="submit" id="submitButton">Inviami la lettera d'incarico</button>
        <p class="note">Riceverai una email di conferma entro 24 ore.</p>
      </form>
    </div>
  </div>
  
  <!-- Debug Console (hidden in production) -->
  <div class="debug-console" style="display: none;">
    <h4>Console di Debug</h4>
    <div id="debugOutput" style="background: #f0f0f0; padding: 10px; max-height: 200px; overflow-y: auto; font-family: monospace;"></div>
  </div>
  
  <!-- Custom JavaScript -->
  <script src="static/js/form.js"></script>
</body>
</html>